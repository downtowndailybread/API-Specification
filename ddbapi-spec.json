{
  "openapi": "3.0.0",
  "info": {
    "title": "Downtown Daily Bread Client Monitor",
    "description": "The Downtown Daily Bread Client Montior is used to monitor the use of services provided by Downtown Daily Bread organization.",
    "version": "1"
  },
  "servers": [
    {
      "url": "http://localhost:8090/api/v1",
      "description": "local server"
    }
  ],
  "security": {
    "bearerAuth": []
  },
  "paths": {
    "/client": {
      "get": {
        "tags": [
          "client"
        ],
        "summary": "Returns all clients and their attributes",
        "responses": {
          "200": {
            "description": "an array of clients",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Client"
                  }
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/client/new": {
      "post": {
        "tags": [
          "client"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ClientAttribute"
                }
              },
              "example": [
                {
                  "id": "name",
                  "value": "Andy Guenin"
                },
                {
                  "id": "date_of_birth",
                  "value": "1990-01-01"
                }
              ]
            }
          }
        },
        "summary": "Creates a new client",
        "responses": {
          "201": {
            "description": "successfully created the new client"
          },
          "400": {
            "description": "ClientInsertionError",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientInsertionError",
                  "message": "Could not insert client"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/client/{id}": {
      "get": {
        "tags": [
          "client"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": "true",
            "description": "client id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "summary": "Gets the details about a specific client",
        "responses": {
          "200": {
            "description": "the client",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          },
          "404": {
            "description": "could not find a client of the specified id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientNotFound",
                  "message": "Could not find client with id 12345"
                }
              }
            }
          }
        }
      }
    },
    "/client/{id}/update": {
      "post": {
        "tags": [
          "client"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": "true",
            "description": "client id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Client"
              },
              "example": [
                {
                  "id": "name",
                  "value": "Andy Guenin"
                },
                {
                  "id": "date_of_birth",
                  "value": "1990-01-01"
                }
              ]
            }
          }
        },
        "summary": "Gets the details about a specific client",
        "responses": {
          "200": {
            "description": "the client with the updated fields",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "400": {
            "description": "ClientInsertionError",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientInsertionError",
                  "message": "Could not insert updated client records"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          },
          "404": {
            "description": "could not find a client of the specified id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientNotFound",
                  "message": "Could not find client with id 12345"
                }
              }
            }
          }
        }
      }
    },
    "/client/{id}/delete": {
      "post": {
        "tags": [
          "client"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": "true",
            "description": "client id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "summary": "Deletes a client",
        "responses": {
          "200": {
            "description": "successfully deleted the client"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          },
          "404": {
            "description": "could not find a client of the specified id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientNotFound",
                  "message": "Could not find client with id 12345"
                }
              }
            }
          }
        }
      }
    },
    "/clientAttributeType": {
      "get": {
        "tags": [
          "client attribute type"
        ],
        "parameters": [],
        "summary": "Gets all of the client attribute types",
        "responses": {
          "200": {
            "description": "an array of all client attribute types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClientAttributeType"
                  }
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/clientAttributeType/new": {
      "post": {
        "tags": [
          "client attribute type"
        ],
        "summary": "Creates a new client attribute type",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ClientAttributeType"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "the new client attribute type",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientAttributeType"
                }
              }
            }
          },
          "400": {
            "description": "ClientAttributeTypeInsertionError",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientAttributeTypeInsertionError",
                  "message": "Could not insert client attribute type"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/clientAttributeType/{attribName}/update": {
      "post": {
        "tags": [
          "client attribute type"
        ],
        "summary": "updates a client attribute type based on its attribname",
        "description": "this endpoint should mostly be used to update the display name of the attribute.",
        "parameters": [
          {
            "name": "attribName",
            "in": "path",
            "required": "true",
            "description": "client attribute type id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientAttributeType"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "an array of all client attribute types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ClientAttributeType"
                  }
                }
              }
            }
          },
          "400": {
            "description": "ClientAttributeTypeInsertionError",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientInsertionError",
                  "message": "Could not insert updated client attribute type records"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          },
          "404": {
            "description": "could not find a client attribute type of the specified attribName",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientAttributeTypeNotFound",
                  "message": "Could not find client attribute type with attribName 'fullname'"
                }
              }
            }
          }
        }
      }
    },
    "/clientAttributeType/{attribName}/delete": {
      "post": {
        "tags": [
          "client attribute type"
        ],
        "summary": "Deletes a client attribute type",
        "description": "This delete will not delete all client data associated with this attribute type. If you need to recover this data, re-create a clientattributetype with the same attribName",
        "parameters": [
          {
            "name": "attribName",
            "in": "path",
            "required": "true",
            "description": "client attribute type id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successfully deleted the client attribute type"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/event/{eventId}": {
      "get": {
        "tags": [
          "event"
        ],
        "summary": "Event information",
        "parameters": [
          {
            "name": "eventId",
            "in": "path",
            "required": "true",
            "description": "event id",
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/event/{eventId}/delete": {
      "post": {
        "tags": [
          "event"
        ]
      }
    },
    "/service": {
      "get": {
        "tags": [
          "service"
        ],
        "summary": "Gets all services offered at Downtown Daily Bread",
        "responses": {
          "200": {
            "description": "an array of all services",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Service"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/new": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "Creates a new service",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceAttribute"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "the service has successfully been completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Id"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}": {
      "get": {
        "tags": [
          "service"
        ],
        "summary": "gets all information about a service (not finished yet, will include schedules, active events, and meta info)",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "the service",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Service"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}/update": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "updates service information",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceAttribute"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "updated"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}/delete": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "gets all information about a service (not finished yet, will include schedules, active events, and meta info)",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "delete the service"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}/schedule/new": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "Inserts a new schedule for a given service",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Schedule"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "the schedule has been created and associated with the specified service"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}/schedule/{scheduleId}/update": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "updates a schedule for a given service",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": "true",
            "description": "schedule id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Schedule"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "the schedule updated"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/service/{serviceId}/schedule/{scheduleId}/delete": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "Deletes a new schedule for a given service",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": "true",
            "description": "service id",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": "true",
            "description": "schedule id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "the schedule has been deleted"
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/user": {
      "get": {
        "tags": [
          "user"
        ],
        "summary": "gets all users",
        "responses": {
          "200": {
            "description": "all users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "user": {
                        "$ref": "#/components/schemas/User"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/user/new": {
      "post": {
        "tags": [
          "user"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "summary": "Creates a new client",
        "responses": {
          "201": {
            "description": "successfully created the new client"
          },
          "400": {
            "description": "ClientInsertionError",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "ClientInsertionError",
                  "message": "Could not insert client"
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "error": "Unauthorized",
                  "message": "You are unauthorized to receive a response"
                }
              }
            }
          }
        }
      }
    },
    "/user/{userId}": {
      "get": {
        "tags": [
          "user"
        ],
        "summary": "views a specific user",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": "true",
            "description": "the user id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "user that was requested",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you are unauthorized to view the user"
          }
        }
      }
    },
    "/user/{userId}/update": {
      "post": {
        "tags": [
          "user"
        ],
        "summary": "updates a specific user",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": "true",
            "description": "the user id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "user deleted"
          },
          "401": {
            "description": "you are unauthorized to view the user"
          }
        }
      }
    },
    "/user/{userId}/delete": {
      "post": {
        "tags": [
          "user"
        ],
        "summary": "delete a user. you must be an administrator to do this",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": "true",
            "description": "the user id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "user deleted"
          },
          "401": {
            "description": "you are unauthorized to delete the user"
          },
          "404": {
            "description": "could not find the associated user"
          }
        }
      }
    },
    "/authenticate": {
      "post": {
        "tags": [
          "user authentication"
        ],
        "summary": "attempts to log a user in",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Confirmation Code",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "auth_token": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "the user has been locked out"
          },
          "404": {
            "description": "could not find the associated user"
          }
        }
      }
    },
    "/authenticate/confirm": {
      "post": {
        "tags": [
          "user authentication"
        ],
        "summary": "Confirms that a user has control of a given email account.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "token"
                ],
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "linkage has been approved"
          },
          "404": {
            "description": "could not find the associated user"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Client": {
        "type": "object",
        "required": [
          "id",
          "attributes"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "attributes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ClientAttribute"
            }
          }
        }
      },
      "ClientAttribute": {
        "type": "object",
        "required": [
          "id",
          "value"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "value": {
            "type": "object"
          }
        }
      },
      "ClientAttributeType": {
        "type": "object",
        "required": [
          "id",
          "name",
          "datatype",
          "required",
          "requiredForOnboarding",
          "ordering"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "the short id that this field will be referred to internally. it should be relatively short, descriptive, and contain only letters, numbers, and underscores"
          },
          "name": {
            "type": "string"
          },
          "datatype": {
            "$ref": "#/components/schemas/ClientAttributeTypeDatatype"
          },
          "required": {
            "type": "boolean"
          },
          "requiredForOnboarding": {
            "type": "boolean"
          },
          "ordering": {
            "type": "integer"
          }
        }
      },
      "ClientAttributeTypeDatatype": {
        "type": "string",
        "enum": [
          "string",
          "date",
          "int",
          "double"
        ]
      },
      "Error": {
        "type": "object",
        "required": [
          "error",
          "message"
        ],
        "properties": {
          "error": {
            "type": "string",
            "enum": [
              "ClientAttributeTypeAlreadyExists",
              "ClientAttributeTypeInsertionError",
              "ClientAttributeTypeNotFound",
              "MissingData",
              "ClientNotFound",
              "ClientInsertionError",
              "Unauthorized"
            ]
          },
          "message": {
            "type": "string"
          }
        }
      },
      "Event": {
        "type": "object",
        "description": "Events are instances of a service",
        "properties": {
          "serviceId": {
            "type": "string"
          },
          "startDateTime": {
            "type": "string"
          },
          "endDateTime": {
            "type": "string"
          }
        }
      },
      "Id": {
        "type": "object",
        "required": [
          "id"
        ],
        "description": "an object id",
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "Schedule": {
        "type": "object",
        "required": [
          "rrule",
          "start_time",
          "end_time",
          "enabled"
        ],
        "properties": {
          "rrule": {
            "type": "string",
            "description": "See https://github.com/jakubroztocil/rrule"
          },
          "start_time": {
            "$ref": "#/components/schemas/Time"
          },
          "end_time": {
            "$ref": "#/components/schemas/Time"
          },
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "Service": {
        "type": "object",
        "required": [
          "schedule"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "attributes": {
            "$ref": "#/components/schemas/ServiceAttribute"
          },
          "schedules": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "id",
                "detail"
              ],
              "properties": {
                "id": {
                  "type": "string"
                },
                "detail": {
                  "$ref": "#/components/schemas/Schedule"
                }
              }
            }
          }
        }
      },
      "ServiceAttribute": {
        "type": "object",
        "required": [
          "name",
          "type"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/ServiceType"
          }
        }
      },
      "ServiceType": {
        "type": "string",
        "description": "A service type is either of recurring or appointment. An recurring service is one that is open for clients to come in and out of whenever they need. They are scheduled according to a repeating schedule. An appointment service is a service that can be attended by a client, but is not specifically scheduled.",
        "enum": [
          "Recurring",
          "Appointment"
        ]
      },
      "Time": {
        "type": "object",
        "required": ["hour", "minute", "second"],
        "properties": {
          "hour": {
            "type": "integer"
          },
          "minute": {
            "type": "integer"
          },
          "second": {
            "type": "integer"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "userLock": {
            "type": "boolean"
          },
          "adminLock": {
            "type": "boolean"
          },
          "confirmed": {
            "type": "boolean"
          },
          "resetToken": {
            "type": "string"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "client",
      "description": "Client routes"
    },
    {
      "name": "client attribute type",
      "description": "Client attribute type routes"
    },
    {
      "name": "event",
      "description": "NOT IMPLEMENTED YET - specific instances of services"
    },
    {
      "name": "service",
      "description": "services offered by downtown daily bread"
    },
    {
      "name": "user",
      "description": "NOT IMPLEMENTED YET - users for logging into the site"
    },
    {
      "name": "user authentication",
      "description": "Authentication endpoints"
    }
  ]
}
